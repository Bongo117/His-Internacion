extends layout

block content
  .contenido-box
    //- Secci贸n de Datos Principales
    .d-flex.justify-content-between.align-items-center.mb-3
      h2= `${titulo}: #${admision.id_admision}`
      span(class=`badge bg-${admision.estado === 'activa' ? 'success' : 'secondary'}`)= admision.estado.toUpperCase()

    .card.mb-4
      .card-header.fw-bold Datos del Paciente y Admisi贸n
      .card-body
        .row
          .col-md-6
            p #[strong Paciente:] #{admision.nombre} #{admision.apellido}
            p #[strong DNI:] #{admision.dni}
            p #[strong Sexo:] #{admision.sexo}
          .col-md-6
            p #[strong Fecha Admisi贸n:] #{new Date(admision.fecha_admision).toLocaleString('es-AR')}
            p #[strong Motivo:] #{admision.motivo}
            p #[strong Ubicaci贸n:] Habitaci贸n #{admision.habitacion_numero}, Cama #{admision.cama_numero}

    //- Secci贸n de Historial de Evoluciones
    h3.mb-3 Historial de Evoluciones

    if evoluciones.length > 0
      each evo in evoluciones
        .card.mb-3
          .card-header.d-flex.justify-content-between
            span #[strong Fecha:] #{new Date(evo.fecha).toLocaleString('es-AR')}
            span #[strong M茅dico:] #{evo.medico_responsable}
          .card-body
            h5.card-title.text-primary Diagn贸stico / Evoluci贸n
            p.card-text.bg-light.p-2.rounded= evo.diagnostico
            
            h5.card-title.text-primary Tratamiento / Indicaciones
            p.card-text.bg-light.p-2.rounded= evo.tratamientos

            if evo.alta
              .alert.alert-success.mt-3.py-2
                strong  ALTA MDICA OTORGADA EN ESTA EVOLUCIN

    else
      .alert.alert-info No hay evoluciones registradas para esta admisi贸n.

    a.btn.btn-secondary(href="/admisiones") Volver al Listado